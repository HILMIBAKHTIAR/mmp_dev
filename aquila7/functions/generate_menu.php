<?php function generate_menu($data,$parent=0,$parent_code="",$first=0){static $i=1;$tab=str_repeat(" ",$i);if(!empty($data[$parent])){$ul_id="";if(!empty($parent_code))$ul_id="dropdown_".$parent_code;if($first==0)$html="<ul class='nav main-menu'>".$tab;else $html="<ul class='dropdown-menu' id='".$ul_id."'>".$tab;$i++;foreach($data[$parent]as $v){$status_aktif=$v->status_aktif;if($status_aktif==1){$child=generate_menu($data,$v->nomor,$v->kode,1);$li_class="";if(!empty($v->tipe))$li_class=" class='".$v->tipe."'";$html.=$tab."<li".$li_class.">";$url="?";if(!empty($v->url_menu))$url.="m=".$v->url_menu."&";if(!empty($v->url_frame))$url.="f=".$v->url_frame."&";if(!empty($v->url_detail))$url.="d=".$v->url_detail."&";if(!empty($v->url_submenu))$url.="sm=".$v->url_submenu."&";if(!empty($v->url_action))$url.="a=".$v->url_action."&";if($v->kode!=$v->url_menu)$url.="mk=".$v->kode."&";if(!empty($v->url_additional))$url.=$v->url_additional;$a_class="";if($v->tipe=="dropdown"){$a_class=" class='dropdown-toggle'";$url="#";}$i_html="";if(!empty($v->ikon))$i_html="<i class='".$v->ikon."'></i> ";if($first==0&&$_SESSION["login"]["framework"]=="pelangi")$html.="<a href='".$url."'".$a_class." id='menu_".$v->kode."'>".$i_html."<span class='tips'>".$v->nama."</span>"."</a>";else $html.="<a href='".$url."'".$a_class." id='menu_".$v->kode."'>".$i_html.$v->nama."</a>";if($child){$i--;$html.=$child;$html.=$tab;}$html.="</li>";}}$html.=$tab."</ul>";return $html;}else return false;} ?>
<?php /*created_by:glennferio@inspiraworld.com;release_date:2020-05-09;*/ ?>